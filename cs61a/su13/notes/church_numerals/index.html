<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
  <head>
    <meta name="google-site-verification" content="Sbao2yVur4CMYEsgpErDP5S6uuqaNxw3VOmmtylKbeA" />
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Church Numerals</title>
    <meta name="author" content="Mark Miyashita" />
    <link href="http://feeds.feedburner.com/markmiyashita" rel="alternate" title="Mark Miyashita" type="application/atom+xml" />

    <script type="text/javascript" src="/public/js/jquery-1.8.3.min.js"></script>
    <script type="text/javascript" src="/public/js/jquery-ui-1.9.2.custom.min.js"></script>
    <script type="text/javascript" src="/public/js/prettify.js"></script>
    <script type="text/javascript" src="/public/js/home.js"></script>

    <link rel="stylesheet" href="/public/css/normalize.css" type="text/css" />
    <link rel="stylesheet" href="/public/css/prettify.css" type="text/css" />
    <link rel="stylesheet" href="/public/css/projects.css" type="text/css" />
    <link rel="stylesheet" href="/public/css/resume.css" type="text/css" />
    <link rel="stylesheet" href="/public/css/base.css" type="text/css" />
    <link rel="stylesheet" href="/public/css/style.css" type="text/css" />
    <link rel="stylesheet" href="/public/css/layouts.css" type="text/css" />
    <link rel="stylesheet" href="/public/css/home.css" type="text/css" />
    <link rel="stylesheet" href="/public/css/header.css" type="text/css" />
  </head>

  <body>
    <header id="header">
      <a href="/"><img class="profile_pic" src="/public/images/mark_miyashita_small.png"></img></a>

<h1>
  <a href="/">Mark Miyashita</a>
</h1>

<h2>
  <a href="/">negativetwelve</a>
</h2>

<h3>
  <p class="about_links">
    <a href="/resume/#education">Student</a>, <a href="/resume/#work">Software Engineer</a>, <a href="/cs61a">Teacher</a>, <a href="/blog">Aspiring Entrepreneur</a>
  </p>
</h3>

<div id="links">
  <span><a href="/">About</a></span>
  <span><a href="/projects">Projects</a></span>
  <span><a href="/resume">Resume</a></span>
  <span><a href="/blog">Blog</a></span>
  <span><a href="/cs61a/su13">CS61A</a></span>
  <span><a href="/interviews/problems">Interview Practice</a></span>
  <span><a href="/hkn">HKN</a></span>
  <span><a href="/web_dev">Web Development</a></span>
  <span><a href="/contact">Contact</a></span>
</div>

    </header>

    <section id="main_content">

      <link rel="stylesheet" href="/public/css/cs61a.css" type="text/css" />

<header id="top_bar">
  July 02, 2013
</header>

<article class="post">
  <a href="/cs61a/su13" class="button_link">Go Back</a>
  
  <h2>Church Numerals</h2>

  <ul id="markdown-toc">
  <li><a href="#what-are-church-numerals">What are Church Numerals?</a></li>
  <li><a href="#add-one">Add One</a></li>
  <li><a href="#add">Add</a></li>
</ul>

<h4 id="what-are-church-numerals">What are Church Numerals?</h4>

<p><a href="http://en.wikipedia.org/wiki/Church_encoding#Computation_with_Church_numerals">Church numerals</a> come from <a href="http://en.wikipedia.org/wiki/Lambda_calculus">lambda calculus</a> and are based upon the idea that you can represent numbers by using a series of nested functions. At the most basic level, we have zero which can be defined as:</p>

<pre><code>def zero(f):
    return lambda x: x
</code></pre>

<p>Or simply, the function for zero does not depend on the input function. It simply returns a function that takes in an argument and returns the same value. Now let’s take a look at one.</p>

<pre><code>def one(f):
    return lambda x: f(x)
</code></pre>

<p>What’s going on here? We note that one is simply the same function as zero except with <code>f</code> applied once. As we look at two, we start to see a pattern:</p>

<pre><code>def two(f):
    return lambda x: f(f(x))
</code></pre>

<p>A church numeral is basically just a funtion that takes in a value which we call <code>x</code>, it then takes the input function, <code>f</code> and applies it to the value <code>x</code>, <code>n</code> times. In this case, <code>n</code> is the number that we are representing.</p>

<h4 id="add-one">Add One</h4>

<p>So this is pretty easy, huh? Let’s take it to another level. Let’s define a function that can add 1 to a church numeral. If I call this function on the church numeral, <code>one</code>, I should get back a function that is similar to the function <code>two</code> that we defined above.</p>

<pre><code>def add_one(n):
    """Returns the church numeral that is one more than the input n."""
    "***YOUR CODE HERE***"
</code></pre>

<p>Here’s what we came up with:</p>

<pre><code>def add_one(n):
    return lambda f: lambda x: f(n(f)(x))
</code></pre>

<p>Why and how does this work? Let’s break it down. First, let’s call this on our church numeral <code>one</code> that we defined earlier.</p>

<pre><code>add_one(one)
</code></pre>

<p>The return value looks something like this:</p>

<pre><code>lambda f: lambda x: f(one(f)(x))
</code></pre>

<p>Which also looks like:</p>

<pre><code>lambda f: lambda x: f((lambda g: lambda y: g(y))(f)(x))
</code></pre>

<p>This may look a little confusing at first, but let’s examine what we did here. I substituted the function <code>one</code> with <code>lambda g: lambda y: g(y)</code>. If you remember the lecture from lambdas, we can call lambdas as soon as we define them and that is exactly what is going on here. We’re calling <code>(lambda g: lambda y: g(y))</code> on <code>f</code> immediately after it’s defined. This means that we can replace every <code>g</code> with <code>f</code>. Basically, we’ve stated that the function call <code>(lambda g: lambda y: g(y))(f)</code> reduces to <code>(lambda y: f(y))</code>. We can do the same thing for the <code>x</code> that is also tacked onto the end of the function call. This time, we see that <code>(lambda y: f(y))(x)</code> reduces to <code>f(x)</code>. So, we finally see that the complex lambda expression that resulted from calling <code>add_one(one)</code> reduces all the way down to the following:</p>

<pre><code>lambda f: lambda x: f(f(x))
</code></pre>

<p>Which, if we look up above, is the same as the function two! Looks like it worked! </p>

<h4 id="add">Add</h4>

<p>We can even make this more general, instead of only adding one to our church numberal, we can extend this to adding two church numerals together. Let’s take a look at how that would work.</p>

<pre><code>def add(m, n):
    """Return the church numeral for m + n where m and n are Church Numerals."""
    "***YOUR CODE HERE***"
</code></pre>

<p>Here’s what we came up with:</p>

<pre><code>def add(m, n):
    return lambda f: lambda x: m(f)(n(f)(x))
</code></pre>

<p>Well what do we see here? We notice that the only difference between this function and the <code>add_one</code> function that we defined above is in this one, we’re calling <code>m(f)</code> wheras in the other one, we simply has <code>f</code>. Say that <code>m</code> is <code>one</code> and <code>n</code> is also <code>one</code>, we can follow the same evaluation rules as before and we see that the exact same result comes out of <code>(n(f)(x))</code>. Now, we have <code>lambda f: lambda x: m(f)f(x)</code>. Let’s reduce the <code>m(f)</code> call, substituting the function <code>one</code> for <code>m</code>, we get:</p>

<pre><code>one(f)

lambda x: f(x)
</code></pre>

<p>Plugging that into the previous simplified <code>f(x)</code>, we see that we end up with the following lambda:</p>

<pre><code>lambda f: lambda x: (lambda y: f(y))(f(x))
</code></pre>

<p>Which reduces down to:</p>

<pre><code>lambda f: lambda x: f(f(x))
</code></pre>

<p>because the <code>y</code> value can be substituted with <code>f(x)</code>. If we look at this, we see that again, we added the two church numerals <code>one</code> and <code>one</code> and got <code>two</code>! Yay, we can do math again! </p>

<p>The same ideas can be applied to multiplication and the power functions. Just remember to reduce your lambda calls as soon as you have all of the parameters to call them. Then you can start simplifying the return statements and getting it down to something you can visualize.</p>

<p>Post any questions or comments in the comments below!</p>

  
  <h2>Extra Practice with Church Numerals</h2>
  <ul>
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
        
          <li>Jul 06, 2013 - <a href="/cs61a/su13/problems/what_would_python_print">What Would Python Print?</a></li>
        
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
        
          <li>Jun 26, 2013 - <a href="/cs61a/su13/problems/functions_inside_functions">Functions Inside Functions</a></li>
        
      
    
  
    
      
        
          <li>Jun 25, 2013 - <a href="/cs61a/su13/problems/what_are_functions">What Are Functions</a></li>
        
      
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
  </ul>
  
</article>

<article class="post">
  <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'markmiyashita'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
  </div>
</article>


      <section class="footer">
  <p class="copyright">
    © 2013 Mark Miyashita - <a href="http://github.com/negativetwelve">Github</a> - <a href="http://www.linkedin.com/pub/mark-miyashita/38/63/49/">LinkedIn</a> - <a href="https://plus.google.com/101180624276428786239?rel=author">Google+</a>
  </p>
</section>

    </section>

    <!-- Google Analytics -->
    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    var pageTracker = _gat._getTracker("UA-29669299-1");
    pageTracker._trackPageview();
    </script>
    <!-- Google Analytics end -->

    <script type="text/javascript">
      prettyPrint();
      var date = document.getElementsByClassName("current_date")[0];
      if (date) {
        date.innerHTML = $.datepicker.formatDate('MM dd, yy', new Date());
      }

      $(document).keypress(function(e) {
        base = document.location.origin;
        switch (e.charCode) {
          case 97: // 'a' for about
            document.location.href = base;
            break;
          case 98: // 'b' for blog
            document.location.href = base + '/blog';
            break;
          case 104: // 'h' for hkn
            document.location.href = base + "/hkn";
            break;
          case 105: // 'i' for interview practice
            document.location.href = base + "/interviews/problems";
            break;
          case 112: // 'p' for projects
            document.location.href = base + '/projects';
            break;
          case 114: // 'r' for resume
            document.location.href = base + '/resume';
            break;
          case 119: // 'w' for web development
            document.location.href = base + '/web_dev';
            break;
          case 99: // 'c' for cs61a
            window.location.href = base + "/cs61a/su13";
            break;
        }
      });
    </script>

  </body>

</html>
