<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
<meta name="google-site-verification" content="Sbao2yVur4CMYEsgpErDP5S6uuqaNxw3VOmmtylKbeA">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="I'm Mark, a student at the University of California, Berkeley pursuing a degree in Electrical Engineering and Computer Science. I am currently a Software Engineer at Yelp and a TA for CS61A at UC Berkeley.">
<meta name="author" content="Mark Miyashita">
<link href="http://feeds.feedburner.com/markmiyashita" rel="alternate" title="Mark Miyashita" type="application/atom+xml">

<title>
  
    CS61A - Church Numerals - Mark Miyashita
  
</title>

<link href="/assets/css/bootstrap.css" rel="stylesheet">
<link href="/assets/css/main.css" rel="stylesheet">
<link href="/assets/css/bootstrap-overrides.css" rel="stylesheet">
<link href="/assets/css/solarized_dark.css" rel="stylesheet">

<link href="/assets/css/custom.css" rel="stylesheet">

<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!--[if lt IE 9]>
  <script src="assets/js/html5shiv.js"></script>
  <script src="assets/js/respond.min.js"></script>
<![endif]-->

<!-- Start of Google Analytics Code -->
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-29669299-1']);
  _gaq.push(['_setDomainName', 'markmiyashita.com']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<!-- End of Google Analytics Code -->

<!-- Start of Woopra Code -->
<script>
(function(){
  var t,i,e,n=window,o=document,a=arguments,s="script",r=["config","track","identify","visit","push","call"],c=function(){var t,i=this;for(i._e=[],t=0;r.length>t;t++)(function(t){i[t]=function(){return i._e.push([t].concat(Array.prototype.slice.call(arguments,0))),i}})(r[t])};for(n._w=n._w||{},t=0;a.length>t;t++)n._w[a[t]]=n[a[t]]=n[a[t]]||new c;i=o.createElement(s),i.async=1,i.src="//static.woopra.com/js/w.js",e=o.getElementsByTagName(s)[0],e.parentNode.insertBefore(i,e)
})("woopra");

woopra.config({
    domain: 'markmiyashita.com',
    idle_timeout: 600000
});
woopra.track('pv', {
    url: window.location.pathname+window.location.search,
    title: document.title
});
</script>
<!-- End of Woopra Code -->


  </head>
  <body>
    <a class="sr-only" href="#content">Skip navigation</a>

    <header class="navbar navbar-inverse navbar-fixed-top bs-docs-nav" role="banner">
  <div class="container">
    <div class="navbar-header">
      <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".bs-navbar-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>
    <nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation">
      <ul class="nav navbar-nav">
        <li>
          <a href="/">About</a>
        </li>
        <li>
          <a href="/resume">Resume</a>
        </li>
        <li>
          <a href="/projects">Projects</a>
        </li>
        <li>
          <a href="/blog">Blog</a>
        </li>
        <li class="active">
          <a href="/cs61a/fa13">CS61A</a>
        </li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown">More CS Classes <b class="caret"></b></a>
          <ul class="dropdown-menu">
            <li><a href="/cs61b">CS61B - Data Structures</a></li>
            <li><a href="/cs61c">CS61C - Computer Architecture</a></li>
            <li><a href="/cs70">CS70 - Discrete Mathematics</a></li>
            <li><a href="/cs170">CS170 - Algorithms</a></li>
            <li><a href="/cs188">CS188 - Artificial Intelligence</a></li>
          </ul>
        </li>
        <li >
          <a href="/e98">E98</a>
        </li>
        <li>
          <a href="/interviews/problems">Interview Practice</a>
        </li>
        <li>
          <a href="/hkn">HKN</a>
        </li>
        <li>
          <a href="/web_dev">Web Development</a>
        </li>
        <li>
          <a href="/contact">Contact</a>
        </li>
      </ul>
    </nav>
  </div>
</header>


    <div class="bs-header" id="content">
      <div class="container">
        <img class="profile-pic" src="/assets/images/mark_miyashita_small.png"></img>
        <h1>Mark Miyashita</h1>
        <h4>negativetwelve</h4>
        <p>
          <a href="/resume/#education">Student</a>, <a href="/resume/#work">Software Engineer</a>, <a href="/cs61a">Teacher</a>, <a href="/blog">Aspiring Entrepreneur</a>
        </p>
      </div>
    </div>

    
      <div class="bs-old-docs">
  <div class="container">
    Looking for more CS classes? Check out:
    
      
        <strong><a href="/cs61a">CS61A</a></strong>
      
      
      -
      
    
      
        <a href="/cs61b">CS61B</a>
      
      
      -
      
    
      
        <a href="/cs61c">CS61C</a>
      
      
      -
      
    
      
        <a href="/cs70">CS70</a>
      
      
      -
      
    
      
        <a href="/cs170">CS170</a>
      
      
      -
      
    
      
        <a href="/cs188">CS188</a>
      
      
    
  </div>
</div>

    

    


    <div class="container bs-docs-container">
      <div class="row">
          <div class="col-md-3">
  
  <div class="bs-sidebar hidden-print" role="complementary" data-spy="affix" data-offset-top="335">
  <ul class="nav bs-sidenav">






  






  
  
    <li><a href="/cs61a/practice">All Problems and Notes (40)</a></li>
  

  
    
    
      
      
      
      
        <li><a href="/cs61a/basics">Basics (3)</a></li>
      
    
  
    
    
  
    
    
  
    
    
      
      
      
      
        <li><a href="/cs61a/higher_order_functions">Higher Order Functions (2)</a></li>
      
    
  
    
    
      
      
      
      
        <li><a href="/cs61a/environment_diagrams">Environment Diagrams (2)</a></li>
      
    
  
    
    
      
      
      
      
        <li><a href="/cs61a/lambdas">Lambdas (1)</a></li>
      
    
  
    
    
      
      
      
      
        <li><a href="/cs61a/newtons_method">Newtons Method (1)</a></li>
      
    
  
    
    
      
      
      
      
        <li><a href="/cs61a/recursion">Recursion (7)</a></li>
      
    
  
    
    
      
      
      
      
        <li><a href="/cs61a/rlists">Rlists (5)</a></li>
      
    
  
    
    
  
    
    
      
      
      
      
        <li><a href="/cs61a/iterables">Iterables (2)</a></li>
      
    
  
    
    
      
      
      
      
        <li><a href="/cs61a/object_oriented_programming">Object Oriented Programming (1)</a></li>
      
    
  
    
    
      
      
      
      
        <li><a href="/cs61a/mutable_data">Mutable Data (1)</a></li>
      
    
  
    
    
      
      
      
      
        <li><a href="/cs61a/inheritance">Inheritance (1)</a></li>
      
    
  
    
    
      
      
      
      
        <li><a href="/cs61a/generic_functions">Generic Functions (1)</a></li>
      
    
  
    
    
      
      
      
      
        <li><a href="/cs61a/orders_of_growth">Orders Of Growth (1)</a></li>
      
    
  
    
    
      
      
      
      
        <li><a href="/cs61a/tree_recursion">Tree Recursion (7)</a></li>
      
    
  
    
    
      
      
      
      
        <li><a href="/cs61a/memoization">Memoization (1)</a></li>
      
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
      
      
      
      
        <li><a href="/cs61a/tail_recursion">Tail Recursion (1)</a></li>
      
    
  
    
    
  
    
    
  
    
    
      
      
      
      
        <li><a href="/cs61a/iterators">Iterators (1)</a></li>
      
    
  
    
    
  
    
    
      
      
      
      
        <li><a href="/cs61a/logic">Logic (2)</a></li>
      
    
  
    
    
  
    
    
  
    
    
  


  </ul>
</div>

</div>
<div class="col-md-9" role="main">
  <div class="page-header">
  <h1>Church Numerals</h1>
</div>





<ul id="markdown-toc">
  <li><a href="#what-are-church-numerals">What are Church Numerals?</a></li>
  <li><a href="#add-one">Add One</a></li>
  <li><a href="#add">Add</a></li>
</ul>

<h4 id="what-are-church-numerals">What are Church Numerals?</h4>

<!--start-->
<p><a href="http://en.wikipedia.org/wiki/Church_encoding#Computation_with_Church_numerals">Church numerals</a> come from <a href="http://en.wikipedia.org/wiki/Lambda_calculus">lambda calculus</a> and are based upon the idea that you can represent numbers by using a series of nested functions. At the most basic level, we have zero which can be defined as:
<!--end--></p>

<pre><code>def zero(f):
    return lambda x: x
</code></pre>

<p>Or simply, the function for zero does not depend on the input function. It simply returns a function that takes in an argument and returns the same value. Now let’s take a look at one.</p>

<pre><code>def one(f):
    return lambda x: f(x)
</code></pre>

<p>What’s going on here? We note that one is simply the same function as zero except with <code>f</code> applied once. As we look at two, we start to see a pattern:</p>

<pre><code>def two(f):
    return lambda x: f(f(x))
</code></pre>

<p>A church numeral is basically just a funtion that takes in a value which we call <code>x</code>, it then takes the input function, <code>f</code> and applies it to the value <code>x</code>, <code>n</code> times. In this case, <code>n</code> is the number that we are representing.</p>

<h4 id="add-one">Add One</h4>

<p>So this is pretty easy, huh? Let’s take it to another level. Let’s define a function that can add 1 to a church numeral. If I call this function on the church numeral, <code>one</code>, I should get back a function that is similar to the function <code>two</code> that we defined above.</p>

<pre><code>def add_one(n):
    """Returns the church numeral that is one more than the input n."""
    "***YOUR CODE HERE***"
</code></pre>

<p>Here’s what we came up with:</p>

<pre><code>def add_one(n):
    return lambda f: lambda x: f(n(f)(x))
</code></pre>

<p>Why and how does this work? Let’s break it down. First, let’s call this on our church numeral <code>one</code> that we defined earlier.</p>

<pre><code>add_one(one)
</code></pre>

<p>The return value looks something like this:</p>

<pre><code>lambda f: lambda x: f(one(f)(x))
</code></pre>

<p>Which also looks like:</p>

<pre><code>lambda f: lambda x: f((lambda g: lambda y: g(y))(f)(x))
</code></pre>

<p>This may look a little confusing at first, but let’s examine what we did here. I substituted the function <code>one</code> with <code>lambda g: lambda y: g(y)</code>. If you remember the lecture from lambdas, we can call lambdas as soon as we define them and that is exactly what is going on here. We’re calling <code>(lambda g: lambda y: g(y))</code> on <code>f</code> immediately after it’s defined. This means that we can replace every <code>g</code> with <code>f</code>. Basically, we’ve stated that the function call <code>(lambda g: lambda y: g(y))(f)</code> reduces to <code>(lambda y: f(y))</code>. We can do the same thing for the <code>x</code> that is also tacked onto the end of the function call. This time, we see that <code>(lambda y: f(y))(x)</code> reduces to <code>f(x)</code>. So, we finally see that the complex lambda expression that resulted from calling <code>add_one(one)</code> reduces all the way down to the following:</p>

<pre><code>lambda f: lambda x: f(f(x))
</code></pre>

<p>Which, if we look up above, is the same as the function two! Looks like it worked! </p>

<h4 id="add">Add</h4>

<p>We can even make this more general, instead of only adding one to our church numberal, we can extend this to adding two church numerals together. Let’s take a look at how that would work.</p>

<pre><code>def add(m, n):
    """Return the church numeral for m + n where m and n are Church Numerals."""
    "***YOUR CODE HERE***"
</code></pre>

<p>Here’s what we came up with:</p>

<pre><code>def add(m, n):
    return lambda f: lambda x: m(f)(n(f)(x))
</code></pre>

<p>Well what do we see here? We notice that the only difference between this function and the <code>add_one</code> function that we defined above is in this one, we’re calling <code>m(f)</code> wheras in the other one, we simply has <code>f</code>. Say that <code>m</code> is <code>one</code> and <code>n</code> is also <code>one</code>, we can follow the same evaluation rules as before and we see that the exact same result comes out of <code>(n(f)(x))</code>. Now, we have <code>lambda f: lambda x: m(f)f(x)</code>. Let’s reduce the <code>m(f)</code> call, substituting the function <code>one</code> for <code>m</code>, we get:</p>

<pre><code>one(f)

lambda x: f(x)
</code></pre>

<p>Plugging that into the previous simplified <code>f(x)</code>, we see that we end up with the following lambda:</p>

<pre><code>lambda f: lambda x: (lambda y: f(y))(f(x))
</code></pre>

<p>Which reduces down to:</p>

<pre><code>lambda f: lambda x: f(f(x))
</code></pre>

<p>because the <code>y</code> value can be substituted with <code>f(x)</code>. If we look at this, we see that again, we added the two church numerals <code>one</code> and <code>one</code> and got <code>two</code>! Yay, we can do math again! </p>

<p>The same ideas can be applied to multiplication and the power functions. Just remember to reduce your lambda calls as soon as you have all of the parameters to call them. Then you can start simplifying the return statements and getting it down to something you can visualize.</p>

<p>Post any questions or comments in the comments below!</p>


<p class="disclaimer">
  I don't claim to be perfect so if you find an error on this page, please <a href="/contact">send me an email</a> perferrably with a link to this page so that I know what I need to fix!
</p>
<article class="post">
  <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'markmiyashita'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
  </div>
</article>

</div>
      </div>

    </div>

    <footer class="bs-footer" role="contentinfo">
      <p class="copyright">
        © 2013 Mark Miyashita
      </p>

      <ul class="footer-links">
        <li><a href="http://github.com/negativetwelve">Github</a></li>
        <li class="muted">&middot;</li>
        <li><a href="https://hkn.eecs.berkeley.edu/coursesurveys/instructor/7419">TA Ratings</a></li>
        <li class="muted">&middot;</li>
        <li><a href="https://www.facebook.com/markmiyashita12">Facebook</a></li>
        <li class="muted">&middot;</li>        
        <li><a href="http://www.linkedin.com/pub/mark-miyashita/38/63/49/">LinkedIn</a></li>
        <li class="muted">&middot;</li>
        <li><a href="https://plus.google.com/101180624276428786239?rel=author">Google+</a></li>
      </ul>
    </footer>

    <script src="/assets/js/jquery-1.8.3.min.js"></script>
<script src="/assets/js/bootstrap.min.js"></script>
<script src="/assets/js/highlight.pack.js"></script>

<script type="text/javascript">
$(document).ready(function() {
  $(".solution_toggle").click(function(event) {
    event.preventDefault();
    $(".solution").fadeToggle('medium');
  });
});


hljs.initHighlightingOnLoad();

$(document).keypress(function(e) {
  base = document.location.origin;
  switch (e.charCode) {
    case 97: // 'a' for about
      document.location.href = base;
      break;
    case 98: // 'b' for blog
      document.location.href = base + '/blog';
      break;
    case 104: // 'h' for hkn
      document.location.href = base + "/hkn";
      break;
    case 105: // 'i' for interview practice
      document.location.href = base + "/interviews/problems";
      break;
    case 109: // 'm' for more
      $('#sub-links').slideDown('medium');
      break;
    case 112: // 'p' for projects
      document.location.href = base + '/projects';
      break;
    case 114: // 'r' for resume
      document.location.href = base + '/resume';
      break;
    case 119: // 'w' for web development
      document.location.href = base + '/web_dev';
      break;
    case 99: // 'c' for cs61a
      window.location.href = base + "/cs61a";
      break;
    default:
      console.log(e.charCode);
  }
});
</script>


  </body>
</html>
